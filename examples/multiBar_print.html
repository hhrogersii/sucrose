<!--
/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/06_Customer_Center/10_Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Multibar Chart</title>
    <link rel="stylesheet" href="css/sucrose.css">
    <style>
      .sc-chart,
      .sc-print {
        border: 1px solid black;
      }
      .sc-print {
        visibility: visible;
        position: relative !important;
        left: 0;
        width: 720px;
        height: 480px;
      }
    </style>
  </head>
  <body>
    <div class="sc-demo">
      <div id="chart" class="sc-chart sc-chart-multibar" style="width:640px;height:400px">
        <svg></svg>
      </div>
      <div>
        <button id="image-downloader">Download Image</button>
      </div>
    </div>

<script src="js/jquery-2.1.4.min.js"></script>
<script src="js/lib.min.js"></script>

<script src="js/d3.min.js"></script>
<script src="js/sucrose.min.js"></script>

<script>
    var chart = sucrose.models.multiBarChart()
          .showTitle(false)
          .showControls(true)
          .showValues(false)
          .stacked(true)
          //.colorData('graduated', {c1: '#e8e2ca', c2: '#3e6c0a', l: horizbar_data.data.length})
          //.colorData( 'class' )
          //.colorData( 'default' )
          //.rotateTicks(30)
          //.forceY([0,400]).forceX([0,6]);
          .width(640)
          .height(400)
          .tooltips(false);

    chart.xAxis
      .axisLabel('This is x-Axis');

    chart.yAxis
      .axisLabel('This is y-Axis');

    chart.legend
        .showAll(true);

    d3.json('data/multibar_data.json', function(data) {
        d3.select('#chart svg')
            .datum(data)
            .call(chart);

        d3.select('#chart').on('click', chart.dispatch.chartClick);

        sucrose.utils.windowResize(chart.update);

        $('#image-downloader').on('click', generateImage);
    });
</script>
</body>
</html>
