<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=320" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Globe Chart</title>
    <link rel="stylesheet" href="css/sucrose.min.css">
    <link rel="stylesheet" href="css/examples.min.css">
    <style>
      #globe {
        max-width: 700px;
        height: 500px;
      }
      svg {
        pointer-events: all;
      }
      .graticule {
        fill: none;
        stroke: #000;
        stroke-opacity: .3;
        stroke-width: .5px;
      }

      .graticule.outline {
        stroke: #333;
        stroke-opacity: 1;
        stroke-width: 1.5px;
      }
    </style>
  </head>
  <body class="full-screen">
    <div class="sc-demo">
      <div id="globe" class="sc-chart sc-chart-globe">
        <svg></svg>
      </div>
    </div>

<script src="js/jquery.min.js"></script>
<script src="js/lib.min.js"></script>
<script src="js/jquerymy.min.js"></script>

<script src="js/d3.min.js"></script>
<script src="js/topojson.min.js"></script>
<script src="../node_modules/d3-ease/build/d3-ease.min.js"></script>
<script src="js/sucrose.min.js"></script>
<script src="../src/models/globe.js"></script>

<script>

  var chartData = {};

  var chart = sucrose.models.globeChart()
        .id('globe');

  function loadData(file) {
    d3.json('data/' + file + '.json', function(data) {
      chartData = data;

      // chart
      //   .colorData('graduated', {c1: '#e8e2ca', c2: '#3e6c0a', l: 13});
      // chart
      //   .colorData('class');
      chart
        .colorData('data', {c1: '#AAA', c2: '#369'});

      d3.select('#globe svg')
          .datum(data)
          .call(chart);

      sucrose.utils.windowResize(chart.update);
    });
  }

  loadData('globe_data');

  // Must select window, in case the user lets go of the mouse outside the
  // dashlet's pane.
  // d3.select(window)
  //     .on('mousemove', mousemove)
  //     .on('mouseup', mouseup);

  sucrose.utils.windowResize(chart.resize);
  sucrose.utils.resizeOnPrint(chart.resize);
</script>
</body>
</html>


